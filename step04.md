# &#x202b; שלב רביעי: תקשורת עם השרת

&#x202b;
כעת כשיש לך שרת שאת בנית, עלינו לתקשר איתו.
אנו הולכות לשלוט בשרת באמצעות פונקציית **handler**.

### &#x202b; מה זה פונקציית handler (מטפל) ?

&#x202b;
כאשר בקשה מגיעה אל השרת, אנו צריכות למצוא דרך כיצד להגיב לה.
כאן נכנסת לתמונה פונקציית ה-handler.
פונקציה זו היא רק פונקציה אשר מקבלת בקשות ומטפלת בהן, ומכאן שמה.

&#x202b;
הפונקציה תמיד מקבלת את אובייקט הבקשה `request` ומחזירה בתגובה ללקוח את אובייקט התגובה response, יחד עם מידע כלשהו.
את תבחרי מה לשלוח ב-response שלך.

### &#x202b; כיצד נראית פונקציית handler ב-Express

&#x202b;
מתודה `get()` משתמשת להגדרת ה-handler ב-Express.
היא מקבלת שני פרמטרים: את ה-**endpoint** אשר מפעילה את הפעולה (אנו נסביר על זה יותר בשלב הבא), ואת פונקציית ה-handler, אשר אומרת לנו מה לעשות.

&#x202b;
ככה נראית דוגמה פשוטה:

```js
app.get("/", function (req, res) {
    res.send("Hello World!");
});
```

&#x202b;
 כאן, אנו אומרים לשרת שלנו להגיב עם "Hello World" כאשר מישהו מנסה לגשת אל עמוד האינטרנט.

## &#x202b; 1. צרי בעצמך את פונקציית ה-handler

&#x202b;
כעת אנחנו יוצרות פונקציית handler עם הודעה מותאמת אישית בתגובה. את יכולה לכתוב איזו הודעה שתרצי.

&#x202b;
הוסיפי לקובץ `server.js` את הפונקציה הריקה `app.get()`:

```js
var express = require("express");
var app = express();

app.get("/", function (req, res) {

});

app.listen(3000, function () {
  console.log("Server is listening on port 3000. Ready to accept requests!");
});
```

&#x202b;
נסי להדפיס לקונסול בעזרת `console.log` את האובייקט `req` בתוך פונקציית ה-handler. עשי ריסטרט לשרת שלך, ולאחר מכן, לכי לטרמינל לראות איך זה נראה. את אמורה לראות הרבה מאוד מידע.

## &#x202b; 2. אמרי לפונקציית ה-handler שלך מה לעשות

&#x202b;
אנו רוצות שפונקציית ה-handler שלנו תשלח בחזרה הודעה ללקוח. על מנת לעשות זאת, אנו הולכות להשתמש במתודת `send()` של Express. מודה זו תעדכן את אובייקט ה-response עם ההודעה שלנו.

&#x202b;
עדכני את פונקציית ה-handler כך:

```js
var express = require("express");
var app = express();

app.get("/", function (req, res) {
  res.send("Yay Node Girls!");
});

app.listen(3000, function () {
  console.log("Server is listening on port 3000. Ready to accept requests!");
});
```

## &#x202b; 3. בדקי זאת בדפדפן

&#x202b;
צאי מהשרת שלך בטרמינל באמצעות לחיצה על המקשים `ctrl + c`. עכשיו, הפעילי אותו מחדש כדי לראות את השינויים החדשים שלך.

```
$ node server.js
```

&#x202b;
עכשיו, פתחי את הדפדפן האהוב עליך, וגלשי לכתובת: `http://localhost:3000` . אם את רואה את ההודעה שלך בדפדפן, מזל טוב! עכשיו שלחת את ה-response הראשון שלך מהשרת.

### &#x202b; [לשלב 5 >>>>](https://github.com/node-girls/express-workshop-hebrew/blob/master/step05.md)
